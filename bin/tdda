#!/bin/sh

HELP="""Use
    tdda discover  to perform constraint discovery
    tdda verify    to verify data against constraints
    tdda examples  to copy the example data and code
    tdda version   to print the TDDA version number
    tdda help      to print this help
    tdda test      to run the tdda library's tests."""

if [ -z "$1" ]
then
    echo "$HELP" 1>&2
    exit 1
fi

name=$1
shift

case $name in
    discover|disco)
        exec python -m tdda.constraints.pddiscover "$@"
        ;;
    verify)
        exec python -m tdda.constraints.pdverify "$@"
        ;;
    examples)
        rm -rf constraints-examples referencetest-examples rexpy-examples
        python -m tdda.referencetest.examples "$@"
        python -m tdda.constraints.examples "$@"
        exec python -m tdda.rexpy.examples "$@"
        ;;
    version|-v|--version)
        exec python -m tdda.constraints.pdverify  "-v"
        ;;
    test)
        exec python -m tdda.testtdda
        ;;
    help|-h|-?|--help)
        echo "$HELP"
        ;;
    *)
        echo "$HELP" 1>&2
        exit 1
        ;;
esac

